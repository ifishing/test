(function(){var i=window.DomReady={};var h=navigator.userAgent.toLowerCase();var c={version:(h.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(h),opera:/opera/.test(h),msie:(/msie/.test(h))&&(!/opera/.test(h)),mozilla:(/mozilla/.test(h))&&(!/(compatible|webkit)/.test(h))};var d=false;var e=false;var g=[];function a(){if(!e){e=true;if(g){for(var j=0;j<g.length;j++){g[j].call(window,[])}g=[]}}}function f(j){var k=window.onload;if(typeof window.onload!="function"){window.onload=j}else{window.onload=function(){if(k){k()}j()}}}function b(){if(d){return}d=true;if(document.addEventListener&&!c.opera){document.addEventListener("DOMContentLoaded",a,false)}if(c.msie&&window==top){(function(){if(e){return}try{document.documentElement.doScroll("left")}catch(k){setTimeout(arguments.callee,0);return}a()})()}if(c.opera){document.addEventListener("DOMContentLoaded",function(){if(e){return}for(var k=0;k<document.styleSheets.length;k++){if(document.styleSheets[k].disabled){setTimeout(arguments.callee,0);return}}a()},false)}if(c.safari){var j;(function(){if(e){return}if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return}if(j===undefined){var k=document.getElementsByTagName("link");for(var l=0;l<k.length;l++){if(k[l].getAttribute("rel")=="stylesheet"){j++}}var m=document.getElementsByTagName("style");j+=m.length}if(document.styleSheets.length!=j){setTimeout(arguments.callee,0);return}a()})()}f(a)}i.ready=function(k,j){b();if(e){k.call(window,[])}else{g.push(function(){return k.call(window,[])})}};b()})();function $sug(a){return document.getElementById(a)}function findPos(c){var e=curtop=0;if(c.offsetParent){while(c.offsetParent){e+=c.offsetLeft;curtop+=c.offsetTop;c=c.offsetParent}}var b=0;var a=0;var d=$(c).offset();b=d.top+$(c).outerHeight()+3;a=d.left-25;e+=document.body.offsetLeft+document.documentElement.offsetLeft;curtop+=document.body.offsetTop+document.documentElement.offsetTop;return[e,curtop]}function findPos2(a){var b=$("#searchgrouptitle"+a).offset();var b=$("#search_btn").offset();var c=curtop=0;curtop=b.top;c=b.left;return[c,curtop]}if(typeof(g_tip)=="undefined"){var g_tip="输入中文/全拼/缩写/上下键选择"}function initSuggest(j){$sug("tip"+j).innerHTML=g_tip;var h=$sug("searchgrouptitle"+j);var d=$sug("searchgroupid"+j);var e=$sug("Suggestion"+j);e.rows[0].cells[0].style.backgroundRepeat="repeat-x";e.rows[0].cells[0].style.backgroundPosition="center";h.oncontextmenu=function(){return false};var k="";var g=0;h.onkeydown=function(l){var i=$sug("Suggestion"+j);l=l||window.event;if(l.keyCode==32){return false}};h.onkeyup=function(o){if(this.getAttribute("suggestion")!="y"){return false}var l=$sug("Suggestion"+j);o=o||window.event;if(__IsInput(o)){if(o.keyCode!=13){d.value=0}if(o.keyCode==40){if(l.rows.length>1){l.rows[g].className="item";g++;if(g==l.rows.length){g=1}l.rows[g].className="itemFocus";this.value=l.rows[g].cells[0].innerHTML;d.value=l.rows[g].cells[0].id}}else{if(o.keyCode==8){var m="/search/suggestion?keyWord="+encodeURIComponent(this.value)+"&site="+$.cookie("des_site");Xml.Request(m,null,c)}else{if(o.keyCode==38){if(l.rows.length>1){l.rows[g].className="item";g--;if(g<1){g=l.rows.length-1}l.rows[g].className="itemFocus";this.value=l.rows[g].cells[0].innerHTML;d.value=l.rows[g].cells[0].id}}else{if(o.keyCode==27){l.style.display="none"}else{if(o.keyCode!=13){d.value=0}}}}}if(o.keyCode==13){$sug("search_btn").click()}}else{if(o.keyCode!=13){d.value=0}if(o.keyCode==13){$sug("search_btn").click()}if(this.value!=k){k=this.value;if(k!=""){var m="/search/suggestion?keyWord="+encodeURIComponent(this.value)+"&site="+$.cookie("des_site");Xml.Request(m,null,c)}else{for(var n=l.rows.length-1;n>0;n--){l.tBodies[0].removeChild(l.rows[n])}}}}if(h.value==""){d.value=""}};h.onfocus=function(){if(this.value==this.getAttribute("suggestiondefval")||this.value==""){var i=$sug("Suggestion"+j);this.value="";this.style.color="#000000";if(this.getAttribute("suggestion")!="y"){return}i.style.display=""}};h.onblur=function(){var i=$sug("Suggestion"+j);if(this.value==""||this.value==suggestion_ad){this.value=this.getAttribute("suggestiondefval");this.style.color="#999999";i.style.display="none"}};function b(n,l){var i=$sug("Suggestion"+j);var m=document.createElement("TR");m.setAttribute("index",i.rows.length);m.onmouseover=function(){var p=parseInt(this.getAttribute("index"));if(p!=g){if(g!=-1){i.rows[g].className="item"}this.className="itemFocus";g=p;h.value=i.rows[g].cells[0].innerHTML;d.value=i.rows[g].cells[0].id}};var o=document.createElement("TD");o.id=l;o.innerHTML=n;o.style.height="18px";o.style.overflow="hidden";m.appendChild(o);o=document.createElement("TD");o.align="right";o.style.color="#999999";m.appendChild(o);i.tBodies[0].appendChild(m)}function c(){var l=$sug("Suggestion"+j);for(var n=l.rows.length-1;n>0;n--){l.tBodies[0].removeChild(l.rows[n])}var m=new XmlSource(this,"projname","type");for(var n=0;n<m.projname.length;n++){b(m.projname[n].data,m.type[n].data)}if(l.rows.length>1){l.style.display="";g=0}}e.onclick=function(l){var i=$sug("searchgrouptitle"+j);i.focus();l=l||window.event;var m=l.target||l.srcElement;g=parseInt(m.parentNode.getAttribute("index"));if(g>0){i.value=m.parentNode.cells[0].innerHTML;d.value=m.parentNode.cells[0].id}this.style.display="none"};var a=[document,document.body,document.documentElement];for(var f=0;f<a.length;f++){if(a[f].onclick==null){a[f].onclick=function(i){i=i||window.event;var l=i.target||i.srcElement;if(e.style.display==""&&l!=h){e.style.display="none"}};break}}}__IsSelect=function(a){if(a.shiftKey||(a.ctrlKey&&a.shiftKey)){return(a.keyCode>=35&&a.keyCode<=40)}else{if(a.ctrlKey&&!a.shiftKey){return a.keyCode==65}else{return false}}};__IsMove=function(a){return(a.keyCode>=35&&a.keyCode<=40)};__IsInput=function(a){return __IsSelect(a)||__IsMove(a)||a.keyCode==9||a.keyCode==8||a.keyCode==27};Xml=new Object();Xml.Request=function(url,data,command,args){url+=(url.indexOf("?")>0)?"&":"?";url+=Math.random();var xmlRequest=null;if(window.XMLHttpRequest){xmlRequest=new XMLHttpRequest();if(xmlRequest.overrideMimeType){xmlRequest.overrideMimeType("text/xml")}}else{if(window.ActiveXObject){var MSXML=new Array("MSXML2.XMLHTTP","Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.5.0");for(var i=0;i<MSXML.length;i++){try{xmlRequest=new ActiveXObject(MSXML[i]);break}catch(e){xmlRequest=null}}}}if(xmlRequest!=null){xmlRequest.onreadystatechange=function(){if(xmlRequest.readyState==4){if(xmlRequest.status==0||(xmlRequest.status>=200&&xmlRequest.status<300)){if(command!=null){if(typeof(command)=="function"){if(args!=null&&args instanceof Array){command.apply(xmlRequest,args)}else{command.call(xmlRequest,args)}}else{if(typeof(command)=="string"){command=command.replace("[Xml]","xmlRequest.responseXML");command=command.replace("[Text]","xmlRequest.responseText");eval(command)}else{if(typeof(command)=="object"){if(args==null){if(command.id&&command.innerHTML){command.innerHTML=xmlRequest.responseText}}else{if(command[args]){command[args](xmlRequest)}}}}}}}else{window.alert("ErrorCode:"+xmlRequest.status+"\r\nErrorMessage:"+xmlRequest.statusText);window.open(url)}}};if(data==null){xmlRequest.open("GET",url,true);xmlRequest.send(null)}else{xmlRequest.open("POST",url,true);xmlRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded;");xmlRequest.send(data)}}else{window.alert("SORRY: YOUR BROWSER IS NOT SUPPORT AJAX!")}};function xmlParser(b){if(window.DOMParser){return(new window.DOMParser()).parseFromString(b,"text/xml")}else{if(window.ActiveXObject){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=false;a.loadXML(b);return a}else{throw new Error("No XML parser found")}}}XmlSource=function(c){this.Xml=c.responseXML;if((this.Xml==null||this.Xml.documentElement==null)&&(c.responseText!=null)){this.Xml=xmlParser(c.responseText)}var b;for(var d=1;d<arguments.length;d++){b=this.Xml.getElementsByTagName(arguments[d]);this[arguments[d]]=new Array();for(var a=0;a<b.length;a++){this[arguments[d]][a]=new XmlNode(b[a])}}};XmlNode=function(c){this.nodeName=c.nodeName;this.data=(c.firstChild&&(c.firstChild.nodeName=="#text"||c.firstChild.nodeName=="#cdata-section"))?c.firstChild.data:"";this.getAttribute=function(e){return c.getAttribute(e)};var d,b;for(var a=0;a<c.childNodes.length;a++){if(c.childNodes[a].nodeType==1){d=c.childNodes[a].nodeName;if(this[d]){if(this[d] instanceof Array){this[d][this[d].length]=new XmlNode(c.childNodes[a])}else{b=this[d];this[d]=new Array();this[d][0]=b;this[d][1]=new XmlNode(c.childNodes[a])}}else{this[d]=new XmlNode(c.childNodes[a])}}}};DomReady.ready(function(){for(var b=1,a=g_suggest_id;b<=a;++b){initSuggest(g_suggest_ary[b])}g_suggest_id=0});